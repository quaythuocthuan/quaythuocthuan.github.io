(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[94],{9094:(t,n,e)=>{"use strict";e.r(n),e.d(n,{PrescriptionModule:()=>Pt});var i=e(1050),o=e(2654),r=e(8583),a=e(3356),c=e(3679),p=e(1095),s=e(3738),g=e(7539),u=e(2238),d=e(1769),l=e(171),Z=e(8295),h=e(6627),m=e(9983),_=e(3935),C=e(4457),f=e(2178),T=e(7441),M=e(7157),q=e(2789),A=e(6983),O=e(7373),P=e(5917),x=e(9773),b=e(7716),U=e(8987);let y=(()=>{class t{constructor(t,n){this.prescriptionsDetailsService=t,this.router=n}resolve(t,n){const e=t.paramMap.get("patientId")||"",i=t.paramMap.get("prescriptionId");return this.prescriptionsDetailsService.getPrescriptionDetails({patientId:e,prescriptionId:i}).pipe((0,x.zg)(t=>(0,P.of)(t.data)))}}return t.\u0275fac=function(n){return new(n||t)(b.LFG(U.J),b.LFG(A.F0))},t.\u0275prov=b.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var v=e(7319),w=e(3065),N=e(5577),L=e(5140);function I(t,n){if(1&t&&(b.TgZ(0,"tr"),b.TgZ(1,"td"),b._uU(2),b.qZA(),b.TgZ(3,"td",4),b._uU(4),b.qZA(),b.TgZ(5,"td"),b._uU(6),b.qZA(),b.TgZ(7,"td"),b._uU(8),b.qZA(),b.TgZ(9,"td"),b.TgZ(10,"table"),b.TgZ(11,"tr"),b.TgZ(12,"td"),b._uU(13," S\xe1ng: "),b.TgZ(14,"span",8),b._uU(15),b.qZA(),b.qZA(),b.TgZ(16,"td"),b._uU(17," Tr\u01b0a: "),b.TgZ(18,"span",8),b._uU(19),b.qZA(),b.qZA(),b.TgZ(20,"td"),b._uU(21," Chi\u1ec1u: "),b.TgZ(22,"span",8),b._uU(23),b.qZA(),b.qZA(),b.TgZ(24,"td"),b._uU(25," T\u1ed1i: "),b.TgZ(26,"span",8),b._uU(27),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA()),2&t){const t=n.$implicit,e=n.index;b.xp6(2),b.Oqu(e+1),b.xp6(2),b.Oqu(t.medicine),b.xp6(2),b.Oqu(t.quantity),b.xp6(2),b.Oqu(t.typeMedicine),b.xp6(7),b.Oqu(t.use.morning?"\u2611":"\u2610"),b.xp6(4),b.Oqu(t.use.afternoon1?"\u2611":"\u2610"),b.xp6(4),b.Oqu(t.use.afternoon2?"\u2611":"\u2610"),b.xp6(4),b.Oqu(t.use.everning?"\u2611":"\u2610")}}let F=(()=>{class t{constructor(t,n){this.route=t,this.store=n,this.patient={id:"",address:"",birthday:0,name:"",asciiName:""},this.prescription={diagnostic:"",id:"",patientId:"",createdAt:new Date},this.prescriptionDetails=[],this.route.data.subscribe(({patient:t,prescription:n,prescriptionDetails:e})=>{this.patient=t,this.prescription=n,this.prescriptionDetails=e})}ngAfterViewInit(){Promise.resolve().then(()=>{this.store.dispatch((0,v.h)({isLoading:!1})),this.store.dispatch((0,v.F)({isProgressing:!1}))})}}return t.\u0275fac=function(n){return new(n||t)(b.Y36(A.gz),b.Y36(w.yh))},t.\u0275cmp=b.Xpm({type:t,selectors:[["app-print"]],decls:87,vars:19,consts:[[1,"wrapper"],[1,"header"],[1,"common"],[1,"right"],[1,"per-name"],[1,"prescription-details"],[4,"ngFor","ngForOf"],[1,"signature"],[1,"use-check-ico"]],template:function(t,n){1&t&&(b.TgZ(0,"div",0),b.TgZ(1,"div",1),b.TgZ(2,"h1"),b._uU(3,"TOA THU\u1ed0C"),b.qZA(),b.TgZ(4,"h3"),b._uU(5,"Qu\u1ea7y thu\u1ed1c Thu An"),b.qZA(),b.TgZ(6,"h3"),b._uU(7,"B\xe1c s\u0129: "),b.TgZ(8,"strong"),b._uU(9,"NGUY\u1ec4N TH\u1ebe AN"),b.qZA(),b.qZA(),b.TgZ(10,"p"),b._uU(11," \u0110\u1ecba ch\u1ec9: Ch\u1ee3 C\u1ea7u M\xf3ng, \u1ea4p Ho\xe0 Q\u01b0\u1edbi A, X\xe3 Ho\xe0 An, Huy\u1ec7n Ph\u1ee5ng Hi\u1ec7p, T\u1ec9nh H\u1eadu Giang "),b.qZA(),b.qZA(),b._UZ(12,"hr"),b.TgZ(13,"div",2),b.TgZ(14,"h2"),b._uU(15,"TH\xd4NG TIN CHUNG"),b.qZA(),b.TgZ(16,"table"),b.TgZ(17,"tr"),b.TgZ(18,"th"),b._uU(19,"H\u1ecc V\xc0 T\xcaN"),b.TgZ(20,"span",3),b._uU(21,":"),b.qZA(),b.qZA(),b.TgZ(22,"td",4),b._uU(23),b.qZA(),b.qZA(),b.TgZ(24,"tr"),b.TgZ(25,"th"),b._uU(26,"ID"),b.TgZ(27,"span",3),b._uU(28,":"),b.qZA(),b.qZA(),b.TgZ(29,"td"),b._uU(30),b.ALo(31,"id"),b.qZA(),b.qZA(),b.TgZ(32,"tr"),b.TgZ(33,"th"),b._uU(34,"N\u0102M SINH"),b.TgZ(35,"span",3),b._uU(36,":"),b.qZA(),b.qZA(),b.TgZ(37,"td"),b._uU(38),b.ALo(39,"age"),b.qZA(),b.qZA(),b.TgZ(40,"tr"),b.TgZ(41,"th"),b._uU(42,"\u0110I\u1ec6N THO\u1ea0I"),b.TgZ(43,"span",3),b._uU(44,":"),b.qZA(),b.qZA(),b.TgZ(45,"td"),b._uU(46),b.qZA(),b.qZA(),b.TgZ(47,"tr"),b.TgZ(48,"th"),b._uU(49,"\u0110\u1ecaA CH\u1ec8"),b.TgZ(50,"span",3),b._uU(51,":"),b.qZA(),b.qZA(),b.TgZ(52,"td"),b._uU(53),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b._UZ(54,"hr"),b.TgZ(55,"div",5),b.TgZ(56,"h2"),b._uU(57),b.ALo(58,"id"),b.qZA(),b.TgZ(59,"p"),b._uU(60),b.ALo(61,"date"),b.qZA(),b.TgZ(62,"p"),b._uU(63),b.qZA(),b.TgZ(64,"table"),b.TgZ(65,"tr"),b.TgZ(66,"th"),b._uU(67,"STT"),b.qZA(),b.TgZ(68,"th"),b._uU(69,"T\xcaN THU\u1ed0C"),b.qZA(),b.TgZ(70,"th"),b._uU(71,"S\u1ed0 L\u01af\u1ee2NG"),b.qZA(),b.TgZ(72,"th"),b._uU(73,"\u0110\u01a0N V\u1eca T\xcdNH"),b.qZA(),b.TgZ(74,"th"),b._uU(75,"LI\u1ec0U D\xd9NG"),b.qZA(),b.qZA(),b.YNc(76,I,28,8,"tr",6),b.qZA(),b.qZA(),b.TgZ(77,"div",7),b.TgZ(78,"table"),b.TgZ(79,"tr"),b.TgZ(80,"td"),b.TgZ(81,"i"),b._uU(82,"...\xa0\xa0Ng\xe0y\xa0\xa0...\xa0\xa0Th\xe1ng\xa0\xa0...\xa0\xa0N\u0103m\xa0\xa020\xa0\xa0..."),b.qZA(),b.qZA(),b.qZA(),b.TgZ(83,"tr"),b.TgZ(84,"td"),b.TgZ(85,"strong"),b._uU(86,"BS. KH\xc1M B\u1ec6NN"),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA()),2&t&&(b.xp6(23),b.Oqu(n.patient.name),b.xp6(7),b.Oqu(b.lcZ(31,10,n.patient.id)),b.xp6(8),b.AsE("",n.patient.birthday," (",b.lcZ(39,12,n.patient.birthday)," tu\u1ed5i)"),b.xp6(8),b.Oqu(n.patient.phone),b.xp6(7),b.Oqu(n.patient.address),b.xp6(4),b.hij("CHI TI\u1ebeT TOA THU\u1ed0C: ",b.lcZ(58,14,n.prescription.id),""),b.xp6(3),b.hij("NG\xc0Y T\u1ea0O: ",b.xi3(61,16,n.prescription.createdAt,"dd-MM-YYYY HH:mm"),""),b.xp6(3),b.hij("CH\u1ea8N \u0110O\xc1N: ",n.prescription.diagnostic,""),b.xp6(13),b.Q6J("ngForOf",n.prescriptionDetails))},directives:[r.sg],pipes:[N.G,L.C,r.uU],styles:["body[_ngcontent-%COMP%]{border:1px solid #0000}.wrapper[_ngcontent-%COMP%]{margin:5% 10% 0;padding-bottom:20px}.wrapper[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .wrapper[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .wrapper[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .wrapper[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0}.wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center}.wrapper[_ngcontent-%COMP%]   .common[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:start}.wrapper[_ngcontent-%COMP%]   .common[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{float:right;padding-left:2em}.wrapper[_ngcontent-%COMP%]   .prescription-details[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%}.wrapper[_ngcontent-%COMP%]   .prescription-details[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:center}.wrapper[_ngcontent-%COMP%]   .prescription-details[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{border-collapse:unset}.wrapper[_ngcontent-%COMP%]   .prescription-details[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   table[_ngcontent-%COMP%], .wrapper[_ngcontent-%COMP%]   .prescription-details[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .wrapper[_ngcontent-%COMP%]   .prescription-details[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:0 solid #000}.wrapper[_ngcontent-%COMP%]   .prescription-details[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .use-check-ico[_ngcontent-%COMP%], .wrapper[_ngcontent-%COMP%]   .prescription-details[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .use-check-ico[_ngcontent-%COMP%], .wrapper[_ngcontent-%COMP%]   .prescription-details[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .use-check-ico[_ngcontent-%COMP%]{font-size:35px}.wrapper[_ngcontent-%COMP%]   .prescription-details[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5em}.wrapper[_ngcontent-%COMP%]   .prescription-details[_ngcontent-%COMP%]   table[_ngcontent-%COMP%], .wrapper[_ngcontent-%COMP%]   .prescription-details[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .wrapper[_ngcontent-%COMP%]   .prescription-details[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:1px solid #000}.wrapper[_ngcontent-%COMP%]   .signature[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{float:right;text-align:center;margin-top:2em}.wrapper[_ngcontent-%COMP%]   .per-name[_ngcontent-%COMP%]{text-transform:capitalize}"]}),t})();var k=e(9193),S=e(5257),D=e(3763);let J=(()=>{class t{constructor(t,n){this.precriptionService=t,this.router=n}resolve(t,n){const e=t.paramMap.get("patientId")||"",i=t.paramMap.get("prescriptionId");return this.precriptionService.findById(e,i).pipe((0,S.q)(1),(0,x.zg)(t=>t?(0,P.of)(Object.assign(Object.assign({},t),{patientId:e})):(this.router.navigate([""]),k.E)))}}return t.\u0275fac=function(n){return new(n||t)(b.LFG(D._),b.LFG(A.F0))},t.\u0275prov=b.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var H=e(2759),Y=e(6682),Q=e(4395),G=e(9761),z=e(3190),B=e(5304),j=e(8002),E=e(2388),$=e(5618),R=e(2458),K=e(1189),V=e(4796);const X=["input"],W=["myForm"];function tt(t,n){if(1&t&&(b.TgZ(0,"mat-option",42),b._uU(1),b.qZA()),2&t){const t=n.$implicit;b.Q6J("value",t),b.xp6(1),b.hij(" ",t," ")}}function nt(t,n){if(1&t){const t=b.EpF();b.TgZ(0,"mat-form-field",43),b.TgZ(1,"mat-label"),b._uU(2,"T\xecm"),b.qZA(),b.TgZ(3,"input",44,45),b.NdJ("keyup",function(n){return b.CHM(t),b.oxw().applyFilter(n)}),b.qZA(),b.qZA()}}function et(t,n){if(1&t&&(b.TgZ(0,"div",46),b.TgZ(1,"a",47),b.TgZ(2,"button",48),b.TgZ(3,"mat-icon"),b._uU(4,"print"),b.qZA(),b.qZA(),b.qZA(),b.qZA()),2&t){const t=b.oxw();b.xp6(1),b.hYB("href","/patients/",t.patient.id,"/prescriptions/",t.prescription.id,"/print",b.LSH)}}function it(t,n){1&t&&(b.TgZ(0,"div"),b._UZ(1,"app-buble-preloader"),b._UZ(2,"app-loading-preloader"),b.qZA())}function ot(t,n){1&t&&(b.TgZ(0,"th",49),b._uU(1,"T\xean thu\u1ed1c"),b.qZA())}function rt(t,n){if(1&t){const t=b.EpF();b.TgZ(0,"td",50),b.NdJ("contextmenu",function(n){const e=b.CHM(t).$implicit;return b.oxw().onContextMenu(n,e)}),b._uU(1),b.qZA()}if(2&t){const t=n.$implicit;b.xp6(1),b.hij(" ",t.medicine," ")}}function at(t,n){1&t&&(b.TgZ(0,"th",49),b._uU(1,"S\u1ed1 l\u01b0\u1ee3ng"),b.qZA())}function ct(t,n){if(1&t){const t=b.EpF();b.TgZ(0,"td",51),b.NdJ("contextmenu",function(n){const e=b.CHM(t).$implicit;return b.oxw().onContextMenu(n,e)}),b._uU(1),b.qZA()}if(2&t){const t=n.$implicit;b.xp6(1),b.hij(" ",t.quantity," ")}}function pt(t,n){1&t&&(b.TgZ(0,"th",49),b._uU(1,"\u0110\u01a1n v\u1ecb t\xednh"),b.qZA())}function st(t,n){if(1&t){const t=b.EpF();b.TgZ(0,"td",51),b.NdJ("contextmenu",function(n){const e=b.CHM(t).$implicit;return b.oxw().onContextMenu(n,e)}),b._uU(1),b.qZA()}if(2&t){const t=n.$implicit;b.xp6(1),b.hij(" ",t.typeMedicine," ")}}function gt(t,n){1&t&&(b.TgZ(0,"th",49),b._uU(1,"Li\u1ec1u d\xf9ng"),b.qZA())}function ut(t,n){if(1&t){const t=b.EpF();b.TgZ(0,"td",51),b.NdJ("contextmenu",function(n){const e=b.CHM(t).$implicit;return b.oxw().onContextMenu(n,e)}),b.TgZ(1,"section",52),b.TgZ(2,"mat-checkbox",53),b._uU(3,"S\xe1ng"),b.qZA(),b.TgZ(4,"mat-checkbox",53),b._uU(5,"Tr\u01b0a"),b.qZA(),b.TgZ(6,"mat-checkbox",53),b._uU(7,"Chi\u1ec1u"),b.qZA(),b.TgZ(8,"mat-checkbox",53),b._uU(9,"T\u1ed1i"),b.qZA(),b.qZA(),b.qZA()}if(2&t){const t=n.$implicit;b.xp6(2),b.Q6J("checked",t.use.morning),b.xp6(2),b.Q6J("checked",t.use.afternoon1),b.xp6(2),b.Q6J("checked",t.use.afternoon2),b.xp6(2),b.Q6J("checked",t.use.everning)}}function dt(t,n){1&t&&b._UZ(0,"tr",54)}function lt(t,n){1&t&&b._UZ(0,"tr",55)}function Zt(t,n){if(1&t){const t=b.EpF();b.TgZ(0,"button",56),b.NdJ("click",function(){const n=b.CHM(t).item;return b.oxw().edit(n)}),b.TgZ(1,"mat-icon"),b._uU(2,"edit"),b.qZA(),b._uU(3," S\u1eeda "),b.qZA(),b.TgZ(4,"button",56),b.NdJ("click",function(){const n=b.CHM(t).item;return b.oxw().delete(n)}),b.TgZ(5,"mat-icon"),b._uU(6,"delete"),b.qZA(),b._uU(7," Xo\xe1 "),b.qZA()}}function ht(t,n){1&t&&(b.TgZ(0,"li",57),b.TgZ(1,"p",58),b._uU(2,"Kh\xf4ng t\xecm th\u1ea5y d\u1eef li\u1ec7u"),b.qZA(),b.qZA())}const mt=function(){return[""]},_t=function(){return["","patients"]},Ct=function(t){return["","patients",t]},ft=function(t,n){return["","patients",t,"prescriptions",n]},Tt=function(){return[]},Mt=[];let qt=(()=>{class t{constructor(t,n,e,i,o){this.route=t,this.patientsService=n,this.prescriptionsDetailsService=e,this.fb=i,this.store=o,this.maxPatientBirthYear=(new Date).getFullYear(),this.isLoading=!0,this.prescription={id:"",patientId:"",diagnostic:""},this.patient={address:"",birthday:0,name:"",id:"",asciiName:"",phone:""},this.dataSource=new q.by(Mt),this.displayedColumns=["medicine","quantity","typeMedicine","use"],this.resultsLength=0,this.pageSize=20,this.prescriptionForm=this.fb.group({id:[""],medicine:["",c.kI.required],quantity:[null,c.kI.required],typeMedicine:["",c.kI.required],use:this.fb.group({morning:[!1],afternoon1:[!1],afternoon2:[!1],everning:[!1]})}),this.typeMedicines=["vi\xean","chai"],this.step=!1,this.contextMenuPosition={x:"0px",y:"0px"},this.route.data.subscribe(({prescription:t})=>{if(t)this.prescription=t,this.patientsService.findById(Number(this.prescription.patientId)).subscribe(t=>{this.patient=t});else{const{patientId:t}=this.route.snapshot.params;this.patientsService.findById(Number(t)).subscribe(t=>{this.patient=t})}})}ngAfterViewInit(){var t;Promise.resolve().then(()=>{this.store.dispatch((0,v.h)({isLoading:!1})),this.store.dispatch((0,v.F)({isProgressing:!1}))}),null===(t=this.sort)||void 0===t||t.sortChange.subscribe(()=>this.paginator.pageIndex=0),this.loadData(),this.prescription.id&&(0,H.R)(this.input.nativeElement,"keyup").pipe((0,Q.b)(500)).subscribe(t=>{this.dataSource.filter=t.target.value.trim().toLowerCase()})}loadData(){this.isLoading=!0,this.prescription.id&&(0,Y.T)(this.sort.sortChange,this.paginator.page).pipe((0,G.O)({}),(0,z.w)(()=>{var t,n,e,i;let o=null===(t=this.sort)||void 0===t?void 0:t.active,r=(null===(n=this.sort)||void 0===n?void 0:n.direction)||"desc";const a=null===(e=this.paginator)||void 0===e?void 0:e.pageIndex;return"age"===o&&(o="birthday",r="asc"===(null===(i=this.sort)||void 0===i?void 0:i.direction)?"desc":"asc"),this.prescription.id?this.prescriptionsDetailsService.getPrescriptionDetails({patientId:this.prescription.patientId,prescriptionId:this.prescription.id,sort:o,order:r,offset:a}).pipe((0,B.K)(()=>(0,P.of)({totalCount:0,data:[]}))):(0,P.of)({totalCount:0,data:[]})}),(0,j.U)(({totalCount:t,data:n})=>(this.resultsLength=t,this.pageSize=20,n))).subscribe(t=>{this.dataSource=new q.by(t),this.isLoading=!1})}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase()}prescriptionSubmit(){this.store.dispatch((0,v.F)({isProgressing:!0}));const{medicine:t,quantity:n,typeMedicine:e,use:i,id:o}=this.prescriptionForm.value;o?this.prescriptionsDetailsService.update({id:o,patientId:this.patient.id,prescriptionId:this.prescription.id},{medicine:t,quantity:n,typeMedicine:e,use:i}).subscribe(()=>{var t;this.cancel(),null===(t=this.myForm)||void 0===t||t.resetForm(),this.store.dispatch((0,v.F)({isProgressing:!1})),this.loadData()}):this.prescriptionsDetailsService.create(this.patient.id,{medicine:t,quantity:n,prescriptionId:`${this.prescription.id||""}`,typeMedicine:e,use:i}).subscribe(()=>{var t;this.cancel(),null===(t=this.myForm)||void 0===t||t.resetForm(),this.store.dispatch((0,v.F)({isProgressing:!1})),this.loadData()})}setStep(t){this.step=t}cancel(){this.prescriptionForm.reset(),this.step=!1}onContextMenu(t,n){var e,i;t.preventDefault(),this.contextMenuPosition={x:t.clientX+"px",y:t.clientY+"px"},this.trigger.menuData={item:n},null===(e=this.trigger)||void 0===e||e.menu.focusFirstItem("mouse"),null===(i=this.trigger)||void 0===i||i.openMenu()}edit(t){this.prescriptionForm.patchValue(t),this.step=!0}delete(t){this.store.dispatch((0,v.F)({isProgressing:!0})),this.prescriptionsDetailsService.delete({id:t.id,patientId:this.patient.id,prescriptionId:this.prescription.id}).subscribe(()=>{var t;this.cancel(),null===(t=this.myForm)||void 0===t||t.resetForm(),this.store.dispatch((0,v.F)({isProgressing:!1})),this.loadData(),this.isLoading=!1})}}return t.\u0275fac=function(n){return new(n||t)(b.Y36(A.gz),b.Y36(E.$),b.Y36(U.J),b.Y36(c.qu),b.Y36(w.yh))},t.\u0275cmp=b.Xpm({type:t,selectors:[["app-show"]],viewQuery:function(t,n){if(1&t&&(b.Gf(C.NW,5),b.Gf(M.YE,5),b.Gf(X,5),b.Gf(W,5),b.Gf(_.p6,5)),2&t){let t;b.iGM(t=b.CRH())&&(n.paginator=t.first),b.iGM(t=b.CRH())&&(n.sort=t.first),b.iGM(t=b.CRH())&&(n.input=t.first),b.iGM(t=b.CRH())&&(n.myForm=t.first),b.iGM(t=b.CRH())&&(n.trigger=t.first)}},decls:112,vars:46,consts:[[3,"routerLink"],["mat-button",""],["fxLayout","column","fxLayoutAlign","space-around center"],[1,"example-card"],[1,"per-name"],["hideToggle","",3,"expanded","opened"],["mat-button","","color","primary","type","button"],["fxLayout","row wrap","fxLayoutAlign","space-around center","fxLayoutGap","1%",2,"width","400px",3,"formGroup","ngSubmit"],["myForm","ngForm"],["appearance","outline","fxFlex","100"],["matInput","","placeholder","T\xean thu\u1ed1c","formControlName","medicine","autocomplete","off","required",""],["appearance","outline","fxFlex","49"],["matInput","","type","number","formControlName","quantity","placeholder","S\u1ed1 l\u01b0\u1ee3ng","autocomplete","off","required",""],["formControlName","typeMedicine"],[3,"value",4,"ngFor","ngForOf"],["formGroupName","use","fxLayout","row","fxFlex","100","fxLayoutAlign","space-between center"],["formControlName","morning"],["formControlName","afternoon1"],["formControlName","afternoon2"],["formControlName","everning"],["fxFlex","100","fxLayout","row","fxLayoutAlign","center center",2,"padding","1em"],["type","submit","mat-button","","color","primary"],["type","reset","mat-button","",3,"click"],["fxLayout","row","fxLayoutAlign","space-between end"],["appearance","standard",4,"ngIf"],["style","margin: 0.5em",4,"ngIf"],[4,"ngIf"],["mat-table","","matSort","","matsortdisableclear","","matSortActive","updatedAt","matSortDirection","desc",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","medicine"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["class","highlight per-name","mat-cell","",3,"contextmenu",4,"matCellDef"],["matColumnDef","quantity"],["mat-cell","",3,"contextmenu",4,"matCellDef"],["matColumnDef","typeMedicine"],["matColumnDef","use"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize","page"],[2,"visibility","hidden","position","fixed",3,"matMenuTriggerFor"],["contextMenu","matMenu"],["matMenuContent",""],["fxLayout","column","fxLayoutAlign","center center",4,"ngIf"],[3,"value"],["appearance","standard"],["matInput","","placeholder","T\xean, s\u1ed1 l\u01b0\u1ee3ng...","autocomplete","off",3,"keyup"],["input",""],[2,"margin","0.5em"],["target","_blank",3,"href"],["mat-button","",1,"print-btn"],["mat-header-cell","","mat-sort-header",""],["mat-cell","",1,"highlight","per-name",3,"contextmenu"],["mat-cell","",3,"contextmenu"],["fxLayout","row","fxFlex","100","fxLayoutAlign","start center","fxLayoutGap","2%"],["disabled","true",3,"checked"],["mat-header-row",""],["mat-row",""],["mat-menu-item","",3,"click"],["fxLayout","column","fxLayoutAlign","center center"],[1,"mr-2em"]],template:function(t,n){if(1&t&&(b.TgZ(0,"ul"),b.TgZ(1,"li"),b.TgZ(2,"a",0),b.TgZ(3,"button",1),b.TgZ(4,"mat-icon"),b._uU(5,"home"),b.qZA(),b.qZA(),b.qZA(),b._uU(6," > "),b.TgZ(7,"a",0),b.TgZ(8,"button",1),b._uU(9,"B\u1ec7nh nh\xe2n"),b.qZA(),b.qZA(),b._uU(10," > "),b.TgZ(11,"a",0),b.TgZ(12,"button",1),b._uU(13),b.qZA(),b.qZA(),b._uU(14," > "),b.TgZ(15,"a",0),b.TgZ(16,"button",1),b._uU(17,"\u0110\u01a1n thu\u1ed1c"),b.qZA(),b.qZA(),b._uU(18," > "),b.TgZ(19,"a",0),b.TgZ(20,"button",1),b._uU(21),b.qZA(),b.qZA(),b.qZA(),b.TgZ(22,"li"),b.TgZ(23,"div",2),b.TgZ(24,"mat-card",3),b.TgZ(25,"mat-card-header",2),b.TgZ(26,"mat-card-title",2),b.TgZ(27,"mat-icon"),b._uU(28,"account_circle"),b.qZA(),b.TgZ(29,"span",4),b._uU(30),b.ALo(31,"uppercase"),b.qZA(),b.qZA(),b.TgZ(32,"mat-card-subtitle"),b.TgZ(33,"a",0),b._uU(34),b.ALo(35,"id"),b.qZA(),b.qZA(),b.qZA(),b.TgZ(36,"mat-card-content"),b.TgZ(37,"p"),b.TgZ(38,"mat-icon"),b._uU(39,"note_alt"),b.qZA(),b._uU(40),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b._UZ(41,"br"),b.TgZ(42,"li"),b.TgZ(43,"mat-accordion"),b.TgZ(44,"mat-expansion-panel",5),b.NdJ("opened",function(){return n.setStep(!0)}),b.TgZ(45,"mat-expansion-panel-header"),b.TgZ(46,"mat-panel-title",2),b.TgZ(47,"button",6),b.TgZ(48,"span"),b._uU(49,"Th\xeam d\u01b0\u1ee3c ph\u1ea9m"),b.qZA(),b.TgZ(50,"mat-icon"),b._uU(51,"expand_more"),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.TgZ(52,"mat-panel-description",2),b.TgZ(53,"form",7,8),b.NdJ("ngSubmit",function(){return n.prescriptionSubmit()}),b.TgZ(55,"mat-form-field",9),b.TgZ(56,"mat-label"),b._uU(57,"T\xean thu\u1ed1c"),b.qZA(),b._UZ(58,"input",10),b.qZA(),b.TgZ(59,"mat-form-field",11),b.TgZ(60,"mat-label"),b._uU(61,"S\u1ed1 l\u01b0\u1ee3ng"),b.qZA(),b._UZ(62,"input",12),b.qZA(),b.TgZ(63,"mat-form-field",11),b.TgZ(64,"mat-label"),b._uU(65,"\u0110\u01a1n v\u1ecb"),b.qZA(),b.TgZ(66,"mat-select",13),b.YNc(67,tt,2,2,"mat-option",14),b.qZA(),b.qZA(),b.TgZ(68,"section",15),b.TgZ(69,"mat-checkbox",16),b._uU(70,"S\xe1ng"),b.qZA(),b.TgZ(71,"mat-checkbox",17),b._uU(72,"Tr\u01b0a"),b.qZA(),b.TgZ(73,"mat-checkbox",18),b._uU(74,"Chi\u1ec1u"),b.qZA(),b.TgZ(75,"mat-checkbox",19),b._uU(76,"T\u1ed1i"),b.qZA(),b.qZA(),b.TgZ(77,"div",20),b.TgZ(78,"button",21),b.TgZ(79,"mat-icon"),b._uU(80,"done_outline"),b.qZA(),b.qZA(),b.TgZ(81,"button",22),b.NdJ("click",function(){return n.cancel()}),b.TgZ(82,"mat-icon"),b._uU(83,"close"),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.TgZ(84,"h2"),b._uU(85,"CHI TI\u1ebeT \u0110\u01a0N THU\u1ed0C"),b.qZA(),b.TgZ(86,"li"),b.TgZ(87,"div",23),b.YNc(88,nt,5,0,"mat-form-field",24),b.YNc(89,et,5,2,"div",25),b.qZA(),b.YNc(90,it,3,0,"div",26),b.TgZ(91,"table",27),b.ynx(92,28),b.YNc(93,ot,2,0,"th",29),b.YNc(94,rt,2,1,"td",30),b.BQk(),b.ynx(95,31),b.YNc(96,at,2,0,"th",29),b.YNc(97,ct,2,1,"td",32),b.BQk(),b.ynx(98,33),b.YNc(99,pt,2,0,"th",29),b.YNc(100,st,2,1,"td",32),b.BQk(),b.ynx(101,34),b.YNc(102,gt,2,0,"th",29),b.YNc(103,ut,10,4,"td",32),b.BQk(),b.YNc(104,dt,1,0,"tr",35),b.YNc(105,lt,1,0,"tr",36),b.qZA(),b.TgZ(106,"mat-paginator",37),b.NdJ("page",function(t){return n.pageEvent=t}),b.qZA(),b._UZ(107,"div",38),b.TgZ(108,"mat-menu",null,39),b.YNc(110,Zt,8,0,"ng-template",40),b.qZA(),b.qZA(),b.YNc(111,ht,3,0,"li",41),b.qZA()),2&t){const t=b.MAs(109);b.xp6(2),b.Q6J("routerLink",b.DdM(36,mt)),b.xp6(5),b.Q6J("routerLink",b.DdM(37,_t)),b.xp6(4),b.Q6J("routerLink",b.VKq(38,Ct,n.patient.id)),b.xp6(2),b.Oqu(n.patient.id),b.xp6(2),b.Q6J("routerLink",b.VKq(40,Ct,n.patient.id)),b.xp6(4),b.Q6J("routerLink",b.WLB(42,ft,n.patient.id,n.prescription.id)),b.xp6(2),b.Oqu(n.prescription.id),b.xp6(9),b.Oqu(b.lcZ(31,32,n.patient.name)),b.xp6(3),b.Q6J("routerLink",b.DdM(45,Tt)),b.xp6(1),b.hij("#",b.lcZ(35,34,n.patient.id),""),b.xp6(6),b.hij(" \xa0 ",n.prescription.diagnostic," "),b.xp6(4),b.Q6J("expanded",n.step),b.xp6(9),b.Q6J("formGroup",n.prescriptionForm),b.xp6(14),b.Q6J("ngForOf",n.typeMedicines),b.xp6(21),b.Q6J("ngIf",n.prescription.id),b.xp6(1),b.Q6J("ngIf",0!==n.resultsLength),b.xp6(1),b.Q6J("ngIf",n.isLoading),b.xp6(1),b.Udp("display",n.resultsLength>0&&!n.isLoading?"table":"none"),b.Q6J("dataSource",n.dataSource),b.xp6(13),b.Q6J("matHeaderRowDef",n.displayedColumns),b.xp6(1),b.Q6J("matRowDefColumns",n.displayedColumns),b.xp6(1),b.Udp("display",n.resultsLength>0&&!n.isLoading?"inherit":"none"),b.Q6J("length",n.resultsLength)("pageSize",n.pageSize),b.xp6(1),b.Udp("left",n.contextMenuPosition.x)("top",n.contextMenuPosition.y),b.Q6J("matMenuTriggerFor",t),b.xp6(4),b.Q6J("ngIf",0===n.resultsLength&&!n.step&&!n.isLoading)}},directives:[A.yS,p.lW,h.Hw,$.xw,$.Wh,s.a8,s.dk,s.n5,s.$j,s.dn,l.pp,l.ib,l.yz,l.yK,l.u4,c._Y,c.JL,$.SQ,c.sg,Z.KE,$.yH,Z.hX,m.Nt,c.Fj,c.JJ,c.u,c.Q7,c.wV,T.gD,r.sg,c.x0,g.oG,r.O5,q.BZ,M.YE,q.w1,q.fO,q.Dz,q.as,q.nj,C.NW,_.p6,_.VK,_.KA,R.ey,K.c,V.k,q.ge,M.nU,q.ev,q.XQ,q.Gk,_.OP],pipes:[r.gd,N.G],styles:["ul[_ngcontent-%COMP%]{list-style-type:none;padding:50px 100px}ul[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center}ul[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{padding-top:1em}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .example-card[_ngcontent-%COMP%]{width:400px;max-width:400px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .mat-elevation-z8[_ngcontent-%COMP%]{width:100%}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:hover{background-color:#0000001a;cursor:pointer}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]::selection   .mat-cell[_ngcontent-%COMP%]{background-color:#0000001a;cursor:pointer}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .print-btn[_ngcontent-%COMP%]{text-decoration:underline;cursor:pointer;color:#ff80ab}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .print-btn[_ngcontent-%COMP%]:hover{color:#ff4081}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{color:#708090}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .mr-2em[_ngcontent-%COMP%]{margin:2em}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .per-name[_ngcontent-%COMP%]{text-transform:capitalize}"]}),t})();const At=[{path:"",component:qt},{path:":prescriptionId",component:qt,resolve:{prescription:J,patients:O.N}},{path:":prescriptionId/print",component:F,resolve:{prescription:J,patient:O.N,prescriptionDetails:y}}];let Ot=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=b.oAB({type:t}),t.\u0275inj=b.cJS({imports:[[A.Bz.forChild(At)],A.Bz]}),t})(),Pt=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=b.oAB({type:t}),t.\u0275inj=b.cJS({imports:[[r.ez,Ot,Z.lN,c.UX,m.c,h.Ps,p.ot,T.LD,g.p9,s.QW,a.o9,d.t,u.Is,q.p0,C.TU,M.JX,l.To,o.D,f.Cv,_.Tx,i.j]]}),t})()}}]);